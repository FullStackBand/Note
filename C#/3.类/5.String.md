# string字符串

在编程时字符串是比较常用的一种数据类型，例如用户名、邮箱、家庭住址、商品名称等信息都需要使用字符串类型来存取。

在 C# 语言中提供了对字符串类型数据操作的方法，例如截取字符串中的内容、查找字符串中的内容等。

在任何一个软件中对字符串的操作都是必不可少的，掌握好字符串的操作将会在编程中起到事半功倍的作用。

下面将分别来介绍常见的字符串操作、数据类型的转换，以及字符串操作在实际工作中的应用。

## 1.常用方法

 编程时字符串是比较常用的一种数据类型，例如用户名、邮箱、家庭住址、商品名称等信息都需要使用字符串类型来存取。

在任何一个软件中对字符串的操作都是必不可少的，掌握好字符串的操作将会在编程中起到事半功倍的作用。

在 C# 语言中提供了对字符串类型数据操作的方法，例如截取字符串中的内容、查找字符串中的内容等。

常用的字符串操作包括获取字符串的长度、查找某个字符在字符串中的位置、替换字符串中的内容、拆分字符串等。

在字符串操作中常用的属性或方法如下表所示。

| 编号 | 属性或方法名 | 作用                                                         |
| ---- | ------------ | ------------------------------------------------------------ |
| 1    | Length       | 获取字符串的长度，即字符串中字符的个数                       |
| 2    | IndexOf      | 返回整数，得到指定的字符串在原字符串中第一次出现的位置       |
| 3    | LastlndexOf  | 返回整数，得到指定的字符串在原字符串中最后一次出现的位置     |
| 4    | Starts With  | 返回布尔型的值，判断某个字符串是否以指定的字符串开头         |
| 5    | EndsWith     | 返回布尔型的值，判断某个字符串是否以指定的字符串结尾         |
| 6    | ToLower      | 返回一个新的字符串，将字符串中的大写字母转换成小写字母       |
| 7    | ToUpper      | 返回一个新的字符串，将字符串中的小写字母转换成大写字母       |
| 8    | Trim         | 返回一个新的字符串，不带任何参数时表示将原字符串中前后的空格删除。 参数为字符数组时表示将原字符串中含有的字符数组中的字符删除 |
| 9    | Remove       | 返回一个新的字符串，将字符串中指定位置的字符串移除           |
| 10   | TrimStart    | 返回一个新的字符串，将字符串中左侧的空格删除                 |
| 11   | TrimEnd      | 返回一个新的字符串，将字符串中右侧的空格删除                 |
| 12   | PadLeft      | 返回一个新的字符串，从字符串的左侧填充空格达到指定的字符串长度 |
| 13   | PadRight     | 返回一个新的字符串，从字符串的右侧填充空格达到指定的字符串长度 |
| 14   | Split        | 返回一个字符串类型的数组，根据指定的字符数组或者字符串数组中的字符 或字符串作为条件拆分字符串 |
| 15   | Replace      | 返回一个新的字符串，用于将指定字符串替换给原字符串中指定的字符串 |
| 16   | Substring    | 返回一个新的字符串，用于截取指定的字符串                     |
| 17   | Insert       | 返回一个新的字符串，将一个字符串插入到另一个字符串中指定索引的位置 |
| 18   | Concat       | 返回一个新的字符串，将多个字符串合并成一个字符串             |

### 1.1 遍历 & Length

#### a. Length

```c#
class Program
{
    static void Main(string[] args)
    {
        string str = Console.ReadLine();
        Console.WriteLine("字符串的长度为：" + str.Length);
        Console.WriteLine("字符串中第一个字符为：" + str[0]);
        Console.WriteLine("字符串中最后一个字符为：" + str[str.Length - 1]);
    }
}
```

执行上面的代码，效果如下图所示。

![字符串中字符的存取](assets/4-1Z31914405D95.gif)

从该实例可以看出，获取字符串中的某个字符只需要通过下标即可完成。

#### b. 遍历

```c#
class Program
{
    static void Main(string[] args)
    {
        string str = Console.ReadLine();
        for(int i = str.Length - 1; i >= 0; i--)
        {
            Console.WriteLine(str[i]);
        }
    }
}
```

执行上面的代码，效果如下图所示。

![逆序输出字符串中的字符](assets/4-1Z319144152207.gif)

### 1.2 位置 IndexOf & LastIndexOf

#### a. IndexOf

```c#
class Program
{
    static void Main(string[] args)
    {
        string str = Console.ReadLine();
        if (str.IndexOf("@") != -1)
        {
            Console.WriteLine("字符串中含有@，其出现的位置是{0}", str.IndexOf("@") + 1);
        }
        else
        {
            Console.WriteLine("字符串中不含有@");
        }
    }
}
```

执行上面的代码，效果如下图所示。

![使用IndexOf获取指定字符串的位置](assets/4-1Z319153239492.gif)

#### b. LastIndexOf

```c#
class Program
{
    static void Main(string[] args)
    {
        string str = Console.ReadLine();
        int firstIndex = str.IndexOf("@");
        int lastIndex = str.LastIndexOf("@");
        if(firstIndex != -1)
        {
            if (firstIndex == lastIndex)
            {
                Console.WriteLine("在该字符串中仅含有一个@");
            }
            else
            {
                Console.WriteLine("在该字符串中含有多个@");
            }
        }
        else
        {
            Console.WriteLine("在该字符串中不含有@");
        }
    }
}
```

执行上面的代码，效果如下图所示。

 

![判断字符串中是否含有一个@](assets/4-1Z319153345946.gif)

从上面的执行效果可以看出，在字符串中包含了两个 @,因此提示的结果是“在该字符串中含有多个@”。

### 1.3 替换 Replace

```c#
class Program
{
    static void Main(string[] args)
    {
        string str = Console.ReadLine();
        if (str.IndexOf(",") != -1)
        {
            str = str.Replace(",", "_");
        }
        Console.WriteLine("替换后的字符串为：" + str);
    }
}
```

执行上面的代码，效果如下图所示。

![字符串替换](assets/4-1Z319155939405.gif)
 

从上面的执行效果可以看出，通过 Replace 方法将字符串中所有的‘,’换成了‘_’。

### 1.4 截取 Substring

```c#
class Program
{
    static void Main(string[] args)
    {
        string str = Console.ReadLine();
        int firstIndex = str.IndexOf("@");
        int lastIndex = str.LastIndexOf("@");
        if(firstIndex != -1 && firstIndex == lastIndex)
        {
            str = str.Substring(0, firstIndex);
        }
        Console.WriteLine("邮箱中的用户名是：" + str);
    }
}
```

执行上面的代码，效果如下图所示。

![截取指定字符串](assets/4-1Z31916240aa.gif)

在上面的代码中，在截取邮箱中的用户名时得到 @ 的位置即可清楚需要截取的字符的个数

### 1.5 插入 Insert

在一个字符串中可以在指定位置插入另一个字符串，在 

C#

 中插入字符串使用的方法是 Insert 方法。

在 Insert 方法中需要两个参数，一个是字符串插入的位置，一个是字符串。

【实例】在 Main 方法中从控制台输入一个字符串，然后将‘@@@’插入到字符串的第 2 个字符的位置。

根据题目要求，代码如下。

```c#
class Program
{
    static void Main(string[] args)
    {
        string str = Console.ReadLine();
        str = str.Insert(1, "@@@");
        Console.WriteLine("新字符串为：" + str);
    }
}
```

执行上面的代码，效果如下图所示。

![插入字符串](assets/4-1Z319164414M5.gif)

从上面的执行效果可以看出，已经将‘@@@’插入到第 2 个字符的位置。

## 2.数据类型转换

### 2.1隐式转换

### 2.1显式转化

### 2.3 强制类型转换

### 2.4Convert

### 2.5Parse

## 3.装箱拆箱

## 4.正则表达式 

